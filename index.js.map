{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/products-api.js","../src/js/handlers.js","../src/js/render-function.js","../src/home.js"],"sourcesContent":["//Обʼєкт з посиланнями на ДОМ елементи\n\nexport const refs = {};\n\nexport const categories = document.querySelector('.categories'); //  отримаємо ul.categories\nexport const products = document.querySelector('.products'); //  отримуємо ul.products\n","// Функції для роботи з бекендом\nimport axios from 'axios';\nimport { categories } from './refs';\n\nconst BASE_URL = 'https://dummyjson.com/products'; // ???\n// const END_POINT_categories = '/categories';\nconst END_POINT_category_list = '/category-list';\n\n// const END_POINT_pagination = `?limit=12&skip=${(currentPage - 1) * 12}`;\n\nexport async function allCategoryList() {\n  const { data } = await axios(`${BASE_URL}${END_POINT_category_list}`);\n  data.unshift('All');\n  return data;\n}\n\nexport async function getProducns(currentPage = 1) {\n  const { data } = await axios(\n    `${BASE_URL}?limit=12&skip=${(currentPage - 1) * 12}`\n  );\n  console.log('1', data.products);\n\n  return data.products;\n}\n// https://dummyjson.com/products/category/smartphones\n\nexport async function getProducnsByCategory(category, currentPage = 1) {\n  const { data } = await axios(\n    `${BASE_URL}/category/${category}?limit=12&skip=${(currentPage - 1) * 12}`\n  );\n  return data.products;\n}\n","// Функції, які передаються колбеками в addEventListners\n\nimport { getProducnsByCategory } from './products-api';\n\nexport function handleClickCategoryBtn(event) {\n  if (!event.target.classList.contains('categories__btn')) {\n    console.log('not a btn');\n    return;\n  }\n  const category = event.target.textContent;\n  getProducnsByCategory(category);\n  console.log(category);\n}\n","//Функцію для створення, рендеру або видалення розмітки\n\nimport { categories, products } from './refs';\n\nexport function createMarkupList(data) {\n  const markupList = data\n    .map(\n      category =>\n        `\n    <li class=\"categories__item\">\n      <button class=\"categories__btn\" type=\"button\">${category}</button>\n    </li>\n    `\n    )\n    .join('');\n  categories.insertAdjacentHTML('beforeend', markupList);\n}\n\nexport function createMarkupProducts(data) {\n  const markupProducts = data\n    .map(\n      (\n        { id, thumbnail, title, brand, category, price } // деструктуруємо product\n      ) =>\n        `\n    <li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:${brand}</span></p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price: ${price} $</p>\n </li>\n\n    `\n    )\n    .join('');\n  products.insertAdjacentHTML('beforeend', markupProducts);\n}\n","//Логіка сторінки Home\n\n//  1. При завантаженні сторінки Home отримай категорії товарів з API:\n//  Зроби запит на ендпоінт №5, отримай масив категорій. На початок отриманого масиву додай рядок “All” і відрендери категорії в списку ul.categories . Шаблон категорії:\n//  <li class=\"categories__item\">\n//     <button class=\"categories__btn\" type=\"button\"></button>\n//   </li>\n//  Стилізація списку категорій вже є в шаблоні репозиторію.\n\n////////////////////////////////////////////////////////////////////////////////\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { handleClickCategoryBtn } from './js/handlers';\nimport { categories } from './js/refs';\nimport {\n  allCategoryList,\n  getProducns,\n  getProducnsByCategory,\n} from './js/products-api';\nimport { createMarkupList, createMarkupProducts } from './js/render-function';\n\ncategories.addEventListener('click', handleClickCategoryBtn);\n\nasync function initPage() {\n  try {\n    const data = await allCategoryList();\n    console.log(data); //отримаємо масив значень  - список усіх категорій\n    createMarkupList(data);\n\n    const products = await getProducns();\n    createMarkupProducts(products);\n  } catch (error) {\n    console.log(error);\n    iziToast.error({\n      title: error.message,\n    });\n  }\n}\ninitPage();\n\n//2. При завантаженні сторінки Home отримай товари з API:\n// Зроби запит на ендпоінт №2 та отримай масив обʼєктів товарів, де skip = (поточна сторінка - 1) * 12. Приклад: для сторінки 2 → skip=12, для сторінки 3 → skip=24.\n\n//Відобрази товари на сторінці Home (пагінація: 12 товарів на сторінку).\n//  Використай HTML-шаблон товару для створення розмітки списку товарів і метод map() для перебору масиву товарів, який приходить з бекенду. Доповни шаблон необхідними даними і встав розмітку в ul.products.\n//\n// Реалізуй делегування на списку ul.categories\n\n// при кліку в обрану категорію потрібно прочитати текстовий контент кнопки і зробити запит по ендпоінту №6 підставивши в url прочитану категорію.\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// зробити запит на сервер для отримання усіх категорій\n\n//                               список категорій товарів - /category-list\n\n// ТЗ - При завантаженні основної сторінки в списку ul.categories рендериться список категорій продуктів, отриманих з бекенду.\n\n// ТЗ -  В списку ul.products рендериться список продуктів, отриманих з бекенда (з пагінацією 12 товарів).\n// треба обрати елемент зі писку та додати для відображення у наступну функцію - ???\n\n//  запит на сервер - список продуктів (з пагінацією 12 товарів)\n\n// async function allProducts() {\n//   const { data } = await axios(`${BASE_URL}?limit=12`);\n//   // { data } - it is response.data\n//   return data;\n// }\n\n// allProducts()\n//   .then(data => {\n//     console.log('1', data); // цікавить - products\n//     console.log(data.products); // масив об'єктів\n//   })\n//   .catch(error => {\n//     console.log(error.message);\n//   });\n\n//\n// ТЗ - Після списку продуктів зʼявляється кнопка loadMore для завантаження наступної порції продуктів. Якщо на бекенді не залишилось продуктів, кнопка loadMore приховується і зʼявляється повідомлення. Для повідомлень використовуємо бібліотеку iziToast.\n\n// у HTML додати розмітку кнопки loadMore  після  ul.products (hidden)\n// на цю кнопку вішаємо слухач та прописуємо функцію\n\n// const loadMore = document.querySelector('.load-more-btn');\n\n// loadMore.addEventListener('click', handleClickMore);\n\n// async function handleClickMore(event) {\n//   event.preventDefault();\n\n//   // loadMore.classList.remove('hidden');\n//   // loadMore.disabled = false;\n// }\n////////////////////////////////////////////////////////////////////////////////\n\n//  1. При завантаженні сторінки Home отримай категорії товарів з API:\n\n//  Зроби запит на ендпоінт №5, отримай масив категорій. На початок отриманого масиву додай рядок “All” і відрендери категорії в списку ul.categories . Шаблон категорії:\n//  <li class=\"categories__item\">\n//     <button class=\"categories__btn\" type=\"button\"></button>\n//   </li>\n\n//  Стилізація списку категорій вже є в шаблоні репозиторію.\n"],"names":["categories","products","BASE_URL","END_POINT_category_list","allCategoryList","data","axios","getProducns","currentPage","getProducnsByCategory","category","handleClickCategoryBtn","event","createMarkupList","markupList","createMarkupProducts","markupProducts","id","thumbnail","title","brand","price","initPage","error","iziToast"],"mappings":"2FAIO,MAAMA,EAAa,SAAS,cAAc,aAAa,EACjDC,EAAW,SAAS,cAAc,WAAW,ECDpDC,EAAW,iCAEXC,EAA0B,iBAIzB,eAAeC,GAAkB,CACtC,KAAM,CAAE,KAAAC,CAAM,EAAG,MAAMC,EAAM,GAAGJ,CAAQ,GAAGC,CAAuB,EAAE,EACpE,OAAAE,EAAK,QAAQ,KAAK,EACXA,CACT,CAEO,eAAeE,EAAYC,EAAc,EAAG,CACjD,KAAM,CAAE,KAAAH,CAAM,EAAG,MAAMC,EACrB,GAAGJ,CAAQ,mBAAmBM,EAAc,GAAK,EAAE,EACvD,EACE,eAAQ,IAAI,IAAKH,EAAK,QAAQ,EAEvBA,EAAK,QACd,CAGO,eAAeI,EAAsBC,EAAUF,EAAc,EAAG,CACrE,KAAM,CAAE,KAAAH,CAAM,EAAG,MAAMC,EACrB,GAAGJ,CAAQ,aAAaQ,CAAQ,mBAAmBF,EAAc,GAAK,EAAE,EAC5E,EACE,OAAOH,EAAK,QACd,CC3BO,SAASM,EAAuBC,EAAO,CAC5C,GAAI,CAACA,EAAM,OAAO,UAAU,SAAS,iBAAiB,EAAG,CACvD,QAAQ,IAAI,WAAW,EACvB,MACD,CACD,MAAMF,EAAWE,EAAM,OAAO,YAC9BH,EAAsBC,CAAQ,EAC9B,QAAQ,IAAIA,CAAQ,CACtB,CCRO,SAASG,EAAiBR,EAAM,CACrC,MAAMS,EAAaT,EAChB,IACCK,GACE;AAAA;AAAA,sDAE8CA,CAAQ;AAAA;AAAA,KAGzD,EACA,KAAK,EAAE,EACVV,EAAW,mBAAmB,YAAac,CAAU,CACvD,CAEO,SAASC,EAAqBV,EAAM,CACzC,MAAMW,EAAiBX,EACpB,IACC,CACE,CAAE,GAAAY,EAAI,UAAAC,EAAW,MAAAC,EAAO,MAAAC,EAAO,SAAAV,EAAU,MAAAW,CAAO,IAEhD;AAAA,0CACkCJ,CAAE;AAAA,wCACJC,CAAS,UAAUC,CAAK;AAAA,iCAC/BA,CAAK;AAAA,2EACqCC,CAAK;AAAA,8CAClCV,CAAQ;AAAA,wCACdW,CAAK;AAAA;AAAA;AAAA,KAIxC,EACA,KAAK,EAAE,EACVpB,EAAS,mBAAmB,YAAae,CAAc,CACzD,CCdAhB,EAAW,iBAAiB,QAASW,CAAsB,EAE3D,eAAeW,GAAW,CACxB,GAAI,CACF,MAAMjB,EAAO,MAAMD,IACnB,QAAQ,IAAIC,CAAI,EAChBQ,EAAiBR,CAAI,EAErB,MAAMJ,EAAW,MAAMM,IACvBQ,EAAqBd,CAAQ,CAC9B,OAAQsB,EAAO,CACd,QAAQ,IAAIA,CAAK,EACjBC,EAAS,MAAM,CACb,MAAOD,EAAM,OACnB,CAAK,CACF,CACH,CACAD"}