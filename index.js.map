{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/products-api.js","../src/js/storage.js","../src/js/render-function.js","../src/js/modal.js","../src/js/handlers.js","../src/home.js"],"sourcesContent":["//Обʼєкт з посиланнями на ДОМ елементи\n\nexport const refs = {};\n\nexport const categories = document.querySelector('.categories');\n//  отримаємо ul.categories\nexport const products = document.querySelector('.products');\n//  отримуємо ul.products\n// export const buttons = categories.querySelectorAll('.categories__btn');\n//Знаходимо всі кнопки в ul.categories\n\nexport const notFound = document.querySelector('.not-found');\n\nexport const loadMoreBtn = document.querySelector('.load-more-btn');\n\n//     MODAL  WINDOW\n\nexport const modal = document.querySelector('.modal');\nexport const modalProduct = document.querySelector('.modal-product');\nexport const modalCloseBtn = document.querySelector('.modal__close-btn');\nexport const modalContent = document.querySelector('.modal__content');\n\n//         пошук\n\nexport const searchForm = document.querySelector('.search-form');\nexport const searchInput = document.querySelector('.search-form__input');\nexport const clearSearchBtn = document.querySelector('.search-form__btn-clear');\n","// Функції для роботи з бекендом\n\nimport axios from 'axios';\nimport { categories } from './refs';\n\nconst BASE_URL = 'https://dummyjson.com/products'; // ???\n// const END_POINT_categories = '/categories';\nconst END_POINT_category_list = '/category-list';\nconst productId = '/:id'; //         -   ???\n\n// const END_POINT_pagination = `?limit=12&skip=${(currentPage - 1) * 12}`;\n\nexport async function allCategoryList() {\n  const { data } = await axios(`${BASE_URL}${END_POINT_category_list}`); //  запит на сервер\n  data.unshift('All'); // Додає \"All\" в початок масиву категорій\n\n  return data;\n}\n\nexport async function getProducts(currentPage = 1) {\n  const { data } = await axios(\n    `${BASE_URL}?limit=12&skip=${(currentPage - 1) * 12}`\n  );\n  // console.log('1', data.products);\n\n  return data.products;\n}\n// https://dummyjson.com/products/category/smartphones\n//  запит на сервер ждя отримання списку по категоріях\n//  зробити запит по ендпоінту №6 підставивши в url прочитану категорію.\n//  отриманий масив обʼєктів продуктів потрібно відрендерити в списку ul.products з пагінацією 12 продуктів на сторінку\n\nexport async function getProductsByCategory(category, currentPage = 1) {\n  const { data } = await axios(\n    `${BASE_URL}/category/${category}?limit=12&skip=${(currentPage - 1) * 12}`\n  );\n  // console.log('btn', data.products);\n  // console.log('btn-category', category);\n\n  return data.products;\n}\n\n//        запит по id\n\nexport async function getProductById(productId) {\n  const { data } = await axios.get(`${BASE_URL}/${productId}`);\n  console.log(data);\n\n  return data;\n}\n\n//             Запит на пошук по API\n//   ендпоінт №4:  https://dummyjson.com/products/search?q=...\n\nexport async function searchProducts(query, currentPage = 1) {\n  const { data } = await axios.get(\n    `${BASE_URL}/search?q=${encodeURIComponent(query)}&limit=12&skip=${\n      (currentPage - 1) * 12\n    }`\n  );\n  return data.products;\n}\n","//Робота з loacalStorage\n\nconst CART_KEY = 'cart';\n\nexport function getCartItems() {\n  const raw = localStorage.getItem(CART_KEY);\n  return raw ? JSON.parse(raw) : [];\n}\n//  зчитує збережені дані з localStorage (товари з кошика) за ключем CART_KEY ('cart'). Якщо дані є, вона перетворює їх з JSON-рядка на JavaScript-масив і повертає його; в іншому випадку повертає порожній масив.\n\nexport function addToCart(productId) {\n  const cart = getCartItems();\n  if (!cart.includes(productId)) {\n    cart.push(productId);\n    localStorage.setItem(CART_KEY, JSON.stringify(cart));\n  }\n}\n//  додає товар до кошика. спочатку отримує поточний вміст кошика. якщо товар з вказаним productId ще не знаходиться в кошику, вона додає його і оновлює дані в localStorage.\n\nexport function removeFromCart(productId) {\n  const cart = getCartItems().filter(id => id !== productId);\n  localStorage.setItem(CART_KEY, JSON.stringify(cart));\n}\n//  видаляє товар з кошика. отримує поточний вміст кошика, фільтрує його, залишаючи тільки ті товари, id яких не дорівнює productId, і потім оновлює кошик у localStorage новим, відфільтрованим масивом.\n\nexport function isInCart(productId) {\n  return getCartItems().includes(productId);\n}\n//  перевіряє, чи знаходиться товар у кошику. отримує поточний вміст кошика і перевіряє, чи містить масив productId. повертає true, якщо товар є в кошику, і false — якщо немає.\n","//Функцію для створення, рендеру або видалення розмітки\n\nimport { categories, products, modalProduct } from './refs';\nimport { isInCart } from './storage';\n\n//  Створюю кнопку для кожної категорії\nexport function createMarkupList(data) {\n  const markupList = data\n    .map(\n      category =>\n        `\n    <li class=\"categories__item\">\n      <button class=\"categories__btn\" type=\"button\">${category}</button>\n    </li>\n    `\n    )\n    .join('');\n  categories.insertAdjacentHTML('beforeend', markupList);\n}\n\nexport function createMarkupProducts(data) {\n  const markupProducts = data\n    .map(\n      (\n        { id, thumbnail, title, brand, category, price } // деструктуруємо product\n      ) =>\n        `\n    <li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:${brand}</span></p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price: ${price} $</p>\n </li>\n\n    `\n    )\n    .join('');\n  products.insertAdjacentHTML('beforeend', markupProducts);\n}\n\n//            MODAL   WINDOW\n\nexport function renderModalProduct(product) {\n  const {\n    id,\n    title,\n    description,\n    price,\n    images,\n    tags = ['eco', 'new'], // fallback для тесту\n    shipping = 'Free shipping available',\n    returnPolicy = '30-day return',\n  } = product;\n\n  const inCart = isInCart(id);\n\n  const markup = `\n  <div class=\"modal-product\" data-id=\"${id}\">\n    <img class=\"modal-product__img\" src=\"${images?.[0] || ''}\" alt=\"${title}\" />\n    <div class=\"modal-product__content\">\n      <p class=\"modal-product__title\">${title}</p>\n      <ul class=\"modal-product__tags\">\n        ${tags.map(tag => `<li>${tag}</li>`).join('')}\n      </ul>\n      <p class=\"modal-product__description\">${description}</p>\n      <p class=\"modal-product__shipping-information\">Shipping: ${shipping}</p>\n      <p class=\"modal-product__return-policy\">Return Policy: ${returnPolicy}</p>\n      <p class=\"modal-product__price\">Price: $${price}</p>\n      \n      \n    </div>\n  </div>\n  `;\n\n  modalProduct.innerHTML = markup;\n}\n// <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n// <button class=\"modal-product__btn modal-product__btn--cart\" type=\"button\">\n// ${inCart ? 'Remove from Cart' : 'Add to Cart'}\n// </button>\n","//Описана робота модалки - відкриття закриття і все що з модалкою повʼязано\n\nimport { modal, modalCloseBtn, modalContent } from './refs';\n\nexport function openModal() {\n  modal.classList.add('modal--is-open');\n\n  // Додаємо слухачі\n  document.addEventListener('keydown', handleEscPress);\n  modal.addEventListener('click', handleBackdropClick);\n  modalCloseBtn.addEventListener('click', closeModal);\n}\n\nexport function closeModal() {\n  modal.classList.remove('modal--is-open');\n\n  // Видаляємо слухачі\n  document.removeEventListener('keydown', handleEscPress);\n  modal.removeEventListener('click', handleBackdropClick);\n  modalCloseBtn.removeEventListener('click', closeModal);\n}\n\n// Обробка натискання ESC\nfunction handleEscPress(event) {\n  if (event.key === 'Escape') {\n    closeModal();\n  }\n}\n\n// Обробка кліку по бекдропу (але не по модальному вмісту)\nfunction handleBackdropClick(event) {\n  if (!modalContent.contains(event.target)) {\n    // contains() — дозволяє відрізнити клік по контенту від кліку по фону.\n    closeModal();\n  }\n}\n","// Функції, які передаються колбеками в addEventListners\n\nimport {\n  products,\n  notFound,\n  loadMoreBtn,\n  searchInput,\n  clearSearchBtn,\n} from './refs'; // елемент розмітки\nimport {\n  getProducts,\n  getProductsByCategory,\n  getProductById,\n  searchProducts,\n} from './products-api';\nimport { addToCart, removeFromCart, isInCart } from './storage';\nimport { createMarkupProducts, renderModalProduct } from './render-function'; // розмітка\nimport { openModal } from './modal';\n\nlet currentPage = 1;\nlet currentCategory;\n\nexport async function handleClickCategoryBtn(event) {\n  const clickedElement = event.target; // елемент на який клікнули\n  // чи натиснута саме кнопка\n  if (!event.target.classList.contains('categories__btn')) {\n    console.log('not a btn');\n    return;\n  }\n\n  const category = event.target.textContent;\n  currentCategory = category; //  записую активну категорію\n\n  /////////////////////////////              ???\n  //  при кліку на одну з кнопок .categories__btn, треба:\n  // Зняти клас categories__btn--active з усіх кнопок (є тільки один активний).  Додати цей клас до тієї кнопки, яку натиснули.\n  //Очистити активні класи з усіх кнопок. шукає по ВСІЙ сторінці,\n  document\n    .querySelectorAll('.categories__btn--active')\n    .forEach(btn => btn.classList.remove('categories__btn--active'));\n  // Додати клас активності до нової кнопки\n  clickedElement.classList.add('categories__btn--active');\n  /////////////////////\n\n  products.innerHTML = ''; // очищаємо список, якщо він був\n  currentPage = 1; //  початок з першої сторінки\n\n  let items = [];\n  try {\n    if (category === 'All') {\n      items = await getProducts(currentPage);\n    } else {\n      items = await getProductsByCategory(category, currentPage);\n    }\n    // Якщо товарів немає — показати повідомлення\n    if (!items.length) {\n      notFound.classList.add('not-found--visible');\n      loadMoreBtn.classList.add('hidden'); //  ховаємо кнопку\n      return;\n    } else {\n      notFound.classList.remove('not-found--visible');\n    }\n    console.log('btn-category', items);\n\n    createMarkupProducts(items);\n\n    // Показати кнопку, якщо є ще товари (рівно 12 — імовірність, що ще будуть)\n\n    if (items.length === 12) {\n      loadMoreBtn.classList.remove('hidden');\n    } else {\n      loadMoreBtn.classList.add('hidden');\n    }\n    //\n  } catch (error) {\n    console.log(error);\n  }\n\n  // getProducnsByCategory(category);\n  // при кліку виводится назва кнопки\n  // при кліку в обрану категорію потрібно прочитати текстовий контент кнопки\n  // console.log('category', category);\n}\n\n//         Функція обробки Load More\n\nexport async function handleLoadMore() {\n  currentPage += 1;\n\n  try {\n    let items = [];\n\n    if (currentCategory === 'All') {\n      items = await getProducts(currentPage);\n    } else {\n      items = await getProductsByCategory(currentCategory, currentPage);\n    }\n\n    if (!items.length) {\n      loadMoreBtn.classList.add('hidden');\n      return;\n    }\n\n    createMarkupProducts(items);\n    console.log('btn-load-More', items);\n\n    if (items.length < 12) {\n      loadMoreBtn.classList.add('hidden');\n    }\n  } catch (error) {\n    console.error(error);\n  }\n}\n\n//       клік по картці\n\nexport async function handleClickProductCard(event) {\n  const productItem = event.target.closest('.products__item');\n  if (!productItem) return;\n\n  const productId = productItem.dataset.id;\n  if (!productId) return;\n\n  try {\n    const product = await getProductById(productId);\n    renderModalProduct(product);\n    openModal();\n  } catch (error) {\n    console.error('Error loading product', error);\n  }\n}\n\n//              обробка сабміту форми пошуку\n\nexport async function handleSearchSubmit(event) {\n  event.preventDefault();\n\n  const query = searchInput.value.trim();\n  if (!query) return;\n\n  try {\n    const result = await searchProducts(query, 1);\n    products.innerHTML = '';\n\n    if (!result.length) {\n      notFound.classList.add('not-found--visible');\n      loadMoreBtn.classList.add('hidden');\n    } else {\n      createMarkupProducts(result);\n      notFound.classList.remove('not-found--visible');\n      loadMoreBtn.classList.add('hidden'); //  не використовуємо load more для пошуку\n    }\n  } catch (error) {\n    console.error('Search error', error);\n  }\n}\n\n//    обробка енопки очистити пошук\n\nexport async function handleClearSearch() {\n  searchInput.value = '';\n  clearSearchBtn.classList.add('hidden');\n\n  try {\n    const result = await getProducts(1);\n    products.innerHTML = '';\n\n    if (!result.length) {\n      notFound.classList.add('not-found--visible');\n    } else {\n      createMarkupProducts(result);\n      notFound.classList.remove('not-found--visible');\n      loadMoreBtn.classList.remove('hidden'); //  знову показуємо load more\n    }\n  } catch (error) {\n    console.error('Clear search error', error);\n  }\n}\n\n//       Обробка кліку по кнопці в модалці\n\nexport function handleCartBtnClick(event) {\n  const btn = event.target;\n  const productId = btn.closest('.modal-product').dataset.id;\n\n  if (!productId) return;\n\n  const idNum = Number(productId);\n\n  if (isInCart(idNum)) {\n    removeFromCart(idNum);\n    btn.textContent = 'Add to Cart';\n  } else {\n    addToCart(idNum);\n    btn.textContent = 'Remove from Cart';\n  }\n\n  // опціонально: оновити лічильник у хедері\n}\n","//Логіка сторінки Home\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport {\n  handleClickCategoryBtn,\n  handleLoadMore,\n  handleClickProductCard,\n  handleSearchSubmit,\n  handleClearSearch,\n  handleCartBtnClick,\n} from './js/handlers';\n\nimport {\n  categories,\n  loadMoreBtn,\n  products,\n  searchForm,\n  searchInput,\n  clearSearchBtn,\n} from './js/refs';\n\nimport {\n  allCategoryList,\n  getProducts,\n  getProductsByCategory,\n} from './js/products-api';\n\nimport { createMarkupList, createMarkupProducts } from './js/render-function';\n\ncategories.addEventListener('click', handleClickCategoryBtn); //  кнопки - категорії\nproducts.addEventListener('click', handleClickProductCard); //  відмалювання карток продуктів\nloadMoreBtn.addEventListener('click', handleLoadMore); // кнопка  ЩЕ\nsearchForm.addEventListener('submit', handleSearchSubmit); //  сабміт форми\nclearSearchBtn.addEventListener('click', handleClearSearch); // Слухач на кнопку \"×\"\n// Слухач на input — показати/сховати ×\nsearchInput.addEventListener('input', () => {\n  if (searchInput.value.trim()) {\n    clearSearchBtn.classList.remove('hidden');\n  } else {\n    clearSearchBtn.classList.add('hidden');\n  }\n});\n//\n\n// Додаємо делегування на кнопку cart в модалці\ndocument.addEventListener('click', event => {\n  if (event.target.classList.contains('modal-product__btn--cart')) {\n    handleCartBtnClick(event);\n  }\n});\n\n//\nlet currentPage = 1;\nlet currentCategory = 'All'; // за замовчуванням\n\nasync function initPage() {\n  try {\n    const data = await allCategoryList();\n    console.log(data); //отримаємо масив значень  - список усіх категорій\n    createMarkupList(data);\n\n    const products = await getProducts();\n    // createMarkupProducts(products); // за замовчуванням відображає перші товари\n    // console.log('3', products);\n\n    //  отриманий масив обʼєктів продуктів потрібно відрендерити в списку ul.products з пагінацією 12 продуктів на сторінку\n\n    //  це нічого не робить\n    // const productsOfCategory = await getProducnsByCategory();\n    // createMarkupProducts(productsOfCategory);\n    //\n  } catch (error) {\n    console.log(error);\n    iziToast.error({\n      title: error.message,\n    });\n  }\n}\ninitPage();\n\n//\n//\n/////////////////////////////////////////////\n//\n//\n//\n"],"names":["categories","products","notFound","loadMoreBtn","modal","modalProduct","modalCloseBtn","modalContent","searchForm","searchInput","clearSearchBtn","BASE_URL","END_POINT_category_list","allCategoryList","data","axios","getProducts","currentPage","getProductsByCategory","category","getProductById","productId","searchProducts","query","CART_KEY","getCartItems","raw","addToCart","cart","removeFromCart","id","isInCart","createMarkupList","markupList","createMarkupProducts","markupProducts","thumbnail","title","brand","price","renderModalProduct","product","description","images","tags","shipping","returnPolicy","markup","tag","openModal","handleEscPress","handleBackdropClick","closeModal","event","currentCategory","handleClickCategoryBtn","clickedElement","btn","items","error","handleLoadMore","handleClickProductCard","productItem","handleSearchSubmit","result","handleClearSearch","handleCartBtnClick","idNum","initPage","iziToast"],"mappings":"2FAIO,MAAMA,EAAa,SAAS,cAAc,aAAa,EAEjDC,EAAW,SAAS,cAAc,WAAW,EAK7CC,EAAW,SAAS,cAAc,YAAY,EAE9CC,EAAc,SAAS,cAAc,gBAAgB,EAIrDC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAgB,SAAS,cAAc,mBAAmB,EAC1DC,EAAe,SAAS,cAAc,iBAAiB,EAIvDC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAc,SAAS,cAAc,qBAAqB,EAC1DC,EAAiB,SAAS,cAAc,yBAAyB,ECrBxEC,EAAW,iCAEXC,EAA0B,iBAKzB,eAAeC,GAAkB,CACtC,KAAM,CAAE,KAAAC,CAAM,EAAG,MAAMC,EAAM,GAAGJ,CAAQ,GAAGC,CAAuB,EAAE,EACpE,OAAAE,EAAK,QAAQ,KAAK,EAEXA,CACT,CAEO,eAAeE,EAAYC,EAAc,EAAG,CACjD,KAAM,CAAE,KAAAH,CAAM,EAAG,MAAMC,EACrB,GAAGJ,CAAQ,mBAAmBM,EAAc,GAAK,EAAE,EACvD,EAGE,OAAOH,EAAK,QACd,CAMO,eAAeI,EAAsBC,EAAUF,EAAc,EAAG,CACrE,KAAM,CAAE,KAAAH,CAAM,EAAG,MAAMC,EACrB,GAAGJ,CAAQ,aAAaQ,CAAQ,mBAAmBF,EAAc,GAAK,EAAE,EAC5E,EAIE,OAAOH,EAAK,QACd,CAIO,eAAeM,EAAeC,EAAW,CAC9C,KAAM,CAAE,KAAAP,CAAI,EAAK,MAAMC,EAAM,IAAI,GAAGJ,CAAQ,IAAIU,CAAS,EAAE,EAC3D,eAAQ,IAAIP,CAAI,EAETA,CACT,CAKO,eAAeQ,EAAeC,EAAON,EAAc,EAAG,CAC3D,KAAM,CAAE,KAAAH,CAAI,EAAK,MAAMC,EAAM,IAC3B,GAAGJ,CAAQ,aAAa,mBAAmBY,CAAK,CAAC,mBAC9CN,EAAc,GAAK,EAC1B,EACA,EACE,OAAOH,EAAK,QACd,CC3DA,MAAMU,EAAW,OAEV,SAASC,GAAe,CAC7B,MAAMC,EAAM,aAAa,QAAQF,CAAQ,EACzC,OAAOE,EAAM,KAAK,MAAMA,CAAG,EAAI,CAAA,CACjC,CAGO,SAASC,EAAUN,EAAW,CACnC,MAAMO,EAAOH,IACRG,EAAK,SAASP,CAAS,IAC1BO,EAAK,KAAKP,CAAS,EACnB,aAAa,QAAQG,EAAU,KAAK,UAAUI,CAAI,CAAC,EAEvD,CAGO,SAASC,EAAeR,EAAW,CACxC,MAAMO,EAAOH,IAAe,OAAOK,GAAMA,IAAOT,CAAS,EACzD,aAAa,QAAQG,EAAU,KAAK,UAAUI,CAAI,CAAC,CACrD,CAGO,SAASG,EAASV,EAAW,CAClC,OAAOI,EAAc,EAAC,SAASJ,CAAS,CAC1C,CCrBO,SAASW,EAAiBlB,EAAM,CACrC,MAAMmB,EAAanB,EAChB,IACCK,GACE;AAAA;AAAA,sDAE8CA,CAAQ;AAAA;AAAA,KAGzD,EACA,KAAK,EAAE,EACVnB,EAAW,mBAAmB,YAAaiC,CAAU,CACvD,CAEO,SAASC,EAAqBpB,EAAM,CACzC,MAAMqB,EAAiBrB,EACpB,IACC,CACE,CAAE,GAAAgB,EAAI,UAAAM,EAAW,MAAAC,EAAO,MAAAC,EAAO,SAAAnB,EAAU,MAAAoB,CAAO,IAEhD;AAAA,0CACkCT,CAAE;AAAA,wCACJM,CAAS,UAAUC,CAAK;AAAA,iCAC/BA,CAAK;AAAA,2EACqCC,CAAK;AAAA,8CAClCnB,CAAQ;AAAA,wCACdoB,CAAK;AAAA;AAAA;AAAA,KAIxC,EACA,KAAK,EAAE,EACVtC,EAAS,mBAAmB,YAAakC,CAAc,CACzD,CAIO,SAASK,EAAmBC,EAAS,CAC1C,KAAM,CACJ,GAAAX,EACA,MAAAO,EACA,YAAAK,EACA,MAAAH,EACA,OAAAI,EACA,KAAAC,EAAO,CAAC,MAAO,KAAK,EACpB,SAAAC,EAAW,0BACX,aAAAC,EAAe,eAChB,EAAGL,EAEWV,EAASD,CAAE,EAE1B,MAAMiB,EAAS;AAAA,wCACuBjB,CAAE;AAAA,4CACCa,GAAA,YAAAA,EAAS,KAAM,EAAE,UAAUN,CAAK;AAAA;AAAA,wCAEnCA,CAAK;AAAA;AAAA,UAEnCO,EAAK,IAAII,GAAO,OAAOA,CAAG,OAAO,EAAE,KAAK,EAAE,CAAC;AAAA;AAAA,8CAEPN,CAAW;AAAA,iEACQG,CAAQ;AAAA,+DACVC,CAAY;AAAA,gDAC3BP,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,IAOnDlC,EAAa,UAAY0C,CAC3B,CCxEO,SAASE,GAAY,CAC1B7C,EAAM,UAAU,IAAI,gBAAgB,EAGpC,SAAS,iBAAiB,UAAW8C,CAAc,EACnD9C,EAAM,iBAAiB,QAAS+C,CAAmB,EACnD7C,EAAc,iBAAiB,QAAS8C,CAAU,CACpD,CAEO,SAASA,GAAa,CAC3BhD,EAAM,UAAU,OAAO,gBAAgB,EAGvC,SAAS,oBAAoB,UAAW8C,CAAc,EACtD9C,EAAM,oBAAoB,QAAS+C,CAAmB,EACtD7C,EAAc,oBAAoB,QAAS8C,CAAU,CACvD,CAGA,SAASF,EAAeG,EAAO,CACzBA,EAAM,MAAQ,UAChBD,GAEJ,CAGA,SAASD,EAAoBE,EAAO,CAC7B9C,EAAa,SAAS8C,EAAM,MAAM,GAErCD,GAEJ,CChBA,IAAInC,EAAc,EACdqC,EAEG,eAAeC,EAAuBF,EAAO,CAClD,MAAMG,EAAiBH,EAAM,OAE7B,GAAI,CAACA,EAAM,OAAO,UAAU,SAAS,iBAAiB,EAAG,CACvD,QAAQ,IAAI,WAAW,EACvB,MACD,CAED,MAAMlC,EAAWkC,EAAM,OAAO,YAC9BC,EAAkBnC,EAMlB,SACG,iBAAiB,0BAA0B,EAC3C,QAAQsC,GAAOA,EAAI,UAAU,OAAO,yBAAyB,CAAC,EAEjED,EAAe,UAAU,IAAI,yBAAyB,EAGtDvD,EAAS,UAAY,GACrBgB,EAAc,EAEd,IAAIyC,EAAQ,CAAA,EACZ,GAAI,CAOF,GANIvC,IAAa,MACfuC,EAAQ,MAAM1C,EAAYC,CAAW,EAErCyC,EAAQ,MAAMxC,EAAsBC,EAAUF,CAAW,EAGtDyC,EAAM,OAKTxD,EAAS,UAAU,OAAO,oBAAoB,MAL7B,CACjBA,EAAS,UAAU,IAAI,oBAAoB,EAC3CC,EAAY,UAAU,IAAI,QAAQ,EAClC,MACN,CAGI,QAAQ,IAAI,eAAgBuD,CAAK,EAEjCxB,EAAqBwB,CAAK,EAItBA,EAAM,SAAW,GACnBvD,EAAY,UAAU,OAAO,QAAQ,EAErCA,EAAY,UAAU,IAAI,QAAQ,CAGrC,OAAQwD,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CAMH,CAIO,eAAeC,GAAiB,CACrC3C,GAAe,EAEf,GAAI,CACF,IAAIyC,EAAQ,CAAA,EAQZ,GANIJ,IAAoB,MACtBI,EAAQ,MAAM1C,EAAYC,CAAW,EAErCyC,EAAQ,MAAMxC,EAAsBoC,EAAiBrC,CAAW,EAG9D,CAACyC,EAAM,OAAQ,CACjBvD,EAAY,UAAU,IAAI,QAAQ,EAClC,MACD,CAED+B,EAAqBwB,CAAK,EAC1B,QAAQ,IAAI,gBAAiBA,CAAK,EAE9BA,EAAM,OAAS,IACjBvD,EAAY,UAAU,IAAI,QAAQ,CAErC,OAAQwD,EAAO,CACd,QAAQ,MAAMA,CAAK,CACpB,CACH,CAIO,eAAeE,EAAuBR,EAAO,CAClD,MAAMS,EAAcT,EAAM,OAAO,QAAQ,iBAAiB,EAC1D,GAAI,CAACS,EAAa,OAElB,MAAMzC,EAAYyC,EAAY,QAAQ,GACtC,GAAKzC,EAEL,GAAI,CACF,MAAMoB,EAAU,MAAMrB,EAAeC,CAAS,EAC9CmB,EAAmBC,CAAO,EAC1BQ,GACD,OAAQU,EAAO,CACd,QAAQ,MAAM,wBAAyBA,CAAK,CAC7C,CACH,CAIO,eAAeI,EAAmBV,EAAO,CAC9CA,EAAM,eAAc,EAEpB,MAAM9B,EAAQd,EAAY,MAAM,KAAI,EACpC,GAAKc,EAEL,GAAI,CACF,MAAMyC,EAAS,MAAM1C,EAAeC,EAAO,CAAC,EAC5CtB,EAAS,UAAY,GAEhB+D,EAAO,QAIV9B,EAAqB8B,CAAM,EAC3B9D,EAAS,UAAU,OAAO,oBAAoB,EAC9CC,EAAY,UAAU,IAAI,QAAQ,IALlCD,EAAS,UAAU,IAAI,oBAAoB,EAC3CC,EAAY,UAAU,IAAI,QAAQ,EAMrC,OAAQwD,EAAO,CACd,QAAQ,MAAM,eAAgBA,CAAK,CACpC,CACH,CAIO,eAAeM,GAAoB,CACxCxD,EAAY,MAAQ,GACpBC,EAAe,UAAU,IAAI,QAAQ,EAErC,GAAI,CACF,MAAMsD,EAAS,MAAMhD,EAAY,CAAC,EAClCf,EAAS,UAAY,GAEhB+D,EAAO,QAGV9B,EAAqB8B,CAAM,EAC3B9D,EAAS,UAAU,OAAO,oBAAoB,EAC9CC,EAAY,UAAU,OAAO,QAAQ,GAJrCD,EAAS,UAAU,IAAI,oBAAoB,CAM9C,OAAQyD,EAAO,CACd,QAAQ,MAAM,qBAAsBA,CAAK,CAC1C,CACH,CAIO,SAASO,EAAmBb,EAAO,CACxC,MAAMI,EAAMJ,EAAM,OACZhC,EAAYoC,EAAI,QAAQ,gBAAgB,EAAE,QAAQ,GAExD,GAAI,CAACpC,EAAW,OAEhB,MAAM8C,EAAQ,OAAO9C,CAAS,EAE1BU,EAASoC,CAAK,GAChBtC,EAAesC,CAAK,EACpBV,EAAI,YAAc,gBAElB9B,EAAUwC,CAAK,EACfV,EAAI,YAAc,mBAItB,CCvKAzD,EAAW,iBAAiB,QAASuD,CAAsB,EAC3DtD,EAAS,iBAAiB,QAAS4D,CAAsB,EACzD1D,EAAY,iBAAiB,QAASyD,CAAc,EACpDpD,EAAW,iBAAiB,SAAUuD,CAAkB,EACxDrD,EAAe,iBAAiB,QAASuD,CAAiB,EAE1DxD,EAAY,iBAAiB,QAAS,IAAM,CACtCA,EAAY,MAAM,OACpBC,EAAe,UAAU,OAAO,QAAQ,EAExCA,EAAe,UAAU,IAAI,QAAQ,CAEzC,CAAC,EAID,SAAS,iBAAiB,QAAS2C,GAAS,CACtCA,EAAM,OAAO,UAAU,SAAS,0BAA0B,GAC5Da,EAAmBb,CAAK,CAE5B,CAAC,EAMD,eAAee,GAAW,CACxB,GAAI,CACF,MAAMtD,EAAO,MAAMD,IACnB,QAAQ,IAAIC,CAAI,EAChBkB,EAAiBlB,CAAI,EAErB,MAAMb,EAAW,MAAMe,GAUxB,OAAQ2C,EAAO,CACd,QAAQ,IAAIA,CAAK,EACjBU,EAAS,MAAM,CACb,MAAOV,EAAM,OACnB,CAAK,CACF,CACH,CACAS"}